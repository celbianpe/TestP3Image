@section AddToHead{
    <link href="@Url.Content("~/Content/jquery.treeview.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery.treeview.js")" type="text/javascript"></script>
    
    <script type="text/javascript">
            $(document).ready(function () {
                $('#CategoriesView').treeview({ collapsed: true });
            });
    </script>
}
@{
    ViewBag.Title = "Category";
}

<hgroup class="title">
    <h1>@ViewBag.Title. </h1>
    <h2>Entries Tree. </h2>
</hgroup>


@helper TreeView(IEnumerable<TestP3Image.FrontEnd.Mvc.Models.NodeItem> items)
{
    foreach (var item in items)
    {
        <li>
           
                @if (item.Type == "Categories")
                {
                <a href="/Category/Show/@item.Id"> <span id="@item.Id" title="click to showed Category ./@item.SlugTip">@item.Description</span> </a>
                }
                else if (item.Type == "SubCategories"){
                <a href="/SubCategory/Show/@item.Id"> <span id="@item.Id" title="click to showed SubCategory ./@item.SlugTip">@item.Description</span> </a>
                }
                else 
                {
                <a href="/Field/Show/@item.Id"> <span id="@item.Id" title="click to showed fields ">@item.Description</span> </a>
                }
    
           @if (!item.isChild)
            {
                <ul>
                    @TreeView(item.List)
                </ul>
           }
        </li>
    }

}


<ul id="CategoriesView" class="treeview-red">
    @TreeView(Model)
</ul>

<p>
    <a href="/Category/Create">Add a new Category</a>

</p>